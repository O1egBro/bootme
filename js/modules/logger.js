"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),ToolLoggerBase=function(){function e(){_classCallCheck(this,e),this.scrollAPI=null}return _createClass(e,[{key:"_initScroll",value:function(e){this.$el.css("height",e+"px").jScrollPane({autoReinitialise:!0}).bind("mousewheel",function(e){e.preventDefault()}),this.scrollAPI=this.$el.data("jsp")}},{key:"scrollToBottom",value:function(e){var t=this;setTimeout(function(){return t.scrollAPI.scrollToBottom(e)},600)}}]),e}(),ToolLoggerLog=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:210;_classCallCheck(this,t);var s=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(s.messages=[],s.$el=$("#"+e),!s.$el.length){var o;return o=console.error("ToolLog: Element #"+e+" not found in page"),_possibleConstructorReturn(s,o)}return s._initScroll(n),s}return _inherits(t,e),_createClass(t,[{key:"addMessage",value:function(e){var t=moment().format("HH:mm:ss MM.DD.YY");e=t+": "+e,this.messages.push(e),this.$el.find(".jspPane").append("<p>"+e+"</p>");var n=this.scrollAPI.getPercentScrolledY();(isNaN(n)||1==n)&&this.scrollToBottom(!0)}}]),t}(ToolLoggerBase),ToolLoggerDisplay=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,t);var s=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(s.messages=[],s.$el=$("#"+e),!s.$el.length){var o;return o=console.error("ToolLoggerDisplay: Element #"+e+" not found in page"),_possibleConstructorReturn(s,o)}return s._setFrame(n),s}return _inherits(t,e),_createClass(t,[{key:"changeQueueCounter",value:function(e,t){this.$queueA.text(e),this.$queueB.text(t)}},{key:"changeDoneCounter",value:function(e,t,n){this.$doneA.text(e),this.$doneB.text(t),this.$doneC.text(n)}},{key:"changeAccountsCounter",value:function(e){this.$accountsA.text(e)}},{key:"changeImagesCounter",value:function(e,t){this.$imagesA.text(e),this.$imagesB.text(t)}},{key:"changeFilterCounter",value:function(e,t,n,s){this.$filterA.text(e),this.$filterB.text(t),this.$filterC.text(n),this.$filterD.text(s)}},{key:"_setFrame",value:function(e){this.$queueA=$("<span>0</span>"),this.$queueB=$("<span>0</span>"),this.$doneA=$("<span>0</span>"),this.$doneB=$("<span>0</span>"),this.$doneC=$("<span>0</span>"),this.$accountsA=$("<span>0</span>"),this.$imagesA=$("<span>0</span>"),this.$imagesB=$("<span>0</span>"),this.$filterA=$("<span>0</span>"),this.$filterB=$("<span>0</span>"),this.$filterC=$("<span>0</span>"),this.$filterD=$("<span>0</span>"),this.$el.append($("<p></p>").append("В очереди : ").append(this.$queueA).append(" / ").append(this.$queueB)).append($("<p></p>").append("Выполнено : [ ").append(this.$doneA).append(" / ").append(this.$doneB).append(" / ").append(this.$doneC).append(" ]")).append($("<p></p>").append("Пользователи : ").append(this.$accountsA)).append($("<p></p>").append("Графика : ").append(this.$imagesA).append(" / ").append(this.$imagesB)),e&&this.$el.append($("<p></p>").append("Фильтр : +").append(this.$filterA).append("/-").append(this.$filterB).append(" | +").append(this.$filterC).append("/-").append(this.$filterD))}}]),t}(ToolLoggerBase);