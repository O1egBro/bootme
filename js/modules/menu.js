"use strict";var Menu={menuScrollInited:!1,init:function(){Menu.initJQueryEvents(),Menu.initGlobalEvents(),Menu.menuTooltip.initJQueryEvents(),$(window).on("load",function(){Menu.initMenuScrollPane(),$(window).width()<=1024?(Menu.hideMenu($(".js-menuTrigger")),Menu.menuTooltip.hideHint()):Menu.showMenu($(".js-menuTrigger"))}).on("resize",function(){Menu.initMenuScrollPane(),Menu.destroyMenuScrollPane(),$(window).width()<=1024&&(Menu.hideMenu($(".js-menuTrigger")),Menu.menuTooltip.hideHint())})},initGlobalEvents:function(){$(document).on("click",".js-menuTrigger",function(e){e.preventDefault();var n=$(this);$(".menu").hasClass("open")?(Menu.hideMenu(n),Menu.menuTooltip.hideHint()):(Menu.showMenu(n),Menu.menuTooltip.hideHint())})},initJQueryEvents:function(){},showMenu:function(e){var n=$(".menu");e.addClass("menu-open"),e.find(".nav__itemText").text("Свернуть меню"),e.data("tooltip-text","Свернуть меню"),$(".content").addClass("menu-open"),n.addClass("open"),n.addClass("open"),setTimeout(function(){Menu.initMenuScrollPane(),$(".js-offerDot").length&&Shop.updateOfferDot()},200)},hideMenu:function(e){e.removeClass("menu-open");var n=$(".menu");e.find(".nav__itemText").text("Развернуть меню"),e.data("tooltip-text","Развернуть меню"),$(".content").removeClass("menu-open"),n.removeClass("open"),setTimeout(function(){$(".js-offerDot").length&&Shop.updateOfferDot()},200)},initMenuScrollPane:function(){var e=$("html");e.hasClass("tablet")||e.hasClass("mobile")||($(".menu .scrollpane").jScrollPane().bind("mousewheel",function(e){e.preventDefault()}),Menu.menuScrollInited=!0)},destroyMenuScrollPane:function(){if(Menu.menuScrollInited){var e=$(".nav").outerHeight(!0),n=$(".menu__header").outerHeight(!0),t=$(".menu__footer").outerHeight(!0),i=$(".menu").outerHeight(!0)-n-t;if(!(e<i))return!1;var o=$(".menu .scrollpane"),u=o.data("jsp");u.destroy(),Notice.menuScrollInited=!1}},menuTooltip:{initJQueryEvents:function(){$(".menuHint").on("mouseover touchstart",function(e){$(".menu").hasClass("open")||Menu.menuTooltip.setData.apply(this)}).on("mouseleave touchend",function(e){$(e.toElement).closest(".menuHint__wrap").length||Menu.menuTooltip.hideHint()}),$("#menuHint__wrap").on("mouseleave",function(){Menu.menuTooltip.hideHint()})},setData:function(){var e=$(this).data("tooltip-text"),n=$(this).attr("href"),t=$("#menuHint__wrap");t.addClass("active").find(".menuHint__link").html(e),t.addClass("active").find(".menuHint__link").attr("href",n),Menu.menuTooltip.setPosition.apply(this),$(this).hasClass("js-menuTrigger")&&$(".menuHint__link").addClass("js-menuTrigger")},setPosition:function(){var e=$(".menuHint__wrap"),n=e.outerHeight(!0),t=$(this).offset(),i=$(this).outerHeight(!0),o=t.top+i/2-n/2;e.css({top:o,left:$(".menu").width()})},hideHint:function(){$("#menuHint__wrap").removeClass("active").find(".menuHint__link").removeClass("js-menuTrigger").html("")}}};$(function(){Menu.init()});