"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),Map=function(){function e(t,r,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:290;_classCallCheck(this,e),this.marker=null,this.circle=null,this.center=r,this.radius=i,this.fillPolygonColor=o,this.changeMarkerPosListeners=[],this.googleMap=new google.maps.Map(document.getElementById(t),{scaleControl:!0,center:r,zoom:12,scrollwheel:!1}),this.geocoder=new google.maps.Geocoder,this.setMarker(r)}return _createClass(e,[{key:"setMarker",value:function(e){var t=this,r=new google.maps.LatLng(e.lat,e.lng);this.googleMap.setCenter(r),this.center=e,this.marker?this.marker.setPosition(r):(this.marker=new google.maps.Marker({map:this.googleMap,draggable:!0,animation:google.maps.Animation.DROP,position:e}),this.marker.addListener("drag",function(){t.setPolygon(t.radius)}),this.marker.addListener("dragend",function(){t.changeMarkerPosListeners.forEach(function(e){return e({lat:t.marker.getPosition().lat(),lng:t.marker.getPosition().lng()})})})),this.setPolygon()}},{key:"setPolygon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e?this.radius=e:e=this.radius,e?void(this.circle?(this.circle.setCenter(this.marker.getPosition()),this.circle.setRadius(e)):this.circle=new google.maps.Circle({strokeColor:this.fillPolygonColor,strokeOpacity:.2,strokeWeight:1,fillColor:this.fillPolygonColor,fillOpacity:.35,map:this.googleMap,center:this.marker.getPosition(),radius:e})):(this.circle.setMap(null),void(this.circle=null))}},{key:"addChangeMarkerPositionListener",value:function(e){this.changeMarkerPosListeners.push(e)}},{key:"searchAddress",value:function(e){var t=this;this.geocoder.geocode({address:e},function(e,r){if(e.length){var o={lat:e[0].geometry.location.lat(),lng:e[0].geometry.location.lng()};t.setMarker(o),t.changeMarkerPosListeners.forEach(function(e){return e(o)})}console.log(e)})}}]),e}();